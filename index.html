<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  
  <!-- Added a link to Bootstrap-->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <!-- Added a link to our external stylesheet-->
  <link rel="stylesheet" href="assets/css/style.css">
  <!-- Added link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <title>Star Wars RPG</title>
</head>
<body>
  <header>
    <h1>Presidential Showdown RPG</h1>
  </header>
  <main class="container">
		<div class="row">
    	<p class="instructions"></p>
		</div>
		<div class="battleground row col-12 d-flex">
    	<div class="card character" id="george-div">George</div>
    	<div class="card character" id="abe-div">Abe</div>
    	<div class="card character" id="alex-div">Alex</div>
    	<div class="card character" id="andy-div">Andy</div>
		</div>
		<div class="row">
			<button class="attack-button btn btn-danger">Attack!</button>
		</div>
  </main>
  <footer>
  
  </footer>
<script>

$(document).ready(function() {

  var hero = {};
  var isHeroSelected = false;
	var activeEnemy	= {};
	var isEnemySelected = false;
	var enemyQueue = [];
	var enemiesDefeated = [];

	class Contender {
	  constructor(name,divId,healthPoints,attackPower,counterPower,powerUp) {
    	this.name = name;
		this.divId = divId;
    	this.healthPoints = healthPoints;
    	this.attackPower = attackPower;
    	this.counterPower = counterPower;
    	this.powerUp = powerUp;
  	}

	  takeAttDamage(attStrength) {
	    this.healthPoints = this.healthPoints - attStrength;
	  }

      takeCounterDamage(attStrength) {
        this.healthPoints = this.healthPoints - attStrength;
      }

	  addAP(extraAttack) {
		this.attackPower = this.attackPower + extraAttack;
	  }
      
      renderCharacter() {
        $( "." + this.divId).text(this.name + this.healthPoints);
        
      }
	}

	var presidents = [
		["George","george-div",1,10,4,2],
		["Abe","abe-div",5,5,3,1],
		["Alex","alex-div",10,4,6,1],
		["Andy","andy-div",20,2,7,3]
	];

	function newGame() {
		var hero = {};
  	  var isHeroSelected = false;
		var activeEnemy	= "";
		var isEnemySelected = false;
		var enemyQueue = [];
		var enemiesDefeated = [];

// Not sure if this is right...
        var playerCharacter = new Contender(...presidents[0]);
        
        playerCharacter.renderCharacter();

		$(".attack-button").hide();

		$(".instructions").text("Choose a hero.");

		$(".character").on("click",function() {
		  if (!isHeroSelected) {
				hero = $(this);
		    isHeroSelected = true;
				$(this).addClass("jumbotron order-1 hero");
				enemyQueue = $(this).siblings();
				console.log(enemyQueue);
				enemyQueue.addClass("ml-auto enemy order-3");
		    newRound();
		  }
		});
	}

	function newRound() {
		
		$(".instructions").text("Choose an enemy to attack.");
		$(".enemy").on("click",function() {
			if (!isEnemySelected) {
				activeEnemy = $(this);
				isEnemySelected = true;
				$(this).removeClass("ml-auto order-3").addClass("jumbotron order-2");
			}
			
			if (isEnemySelected) {
				$(".attack-button").show();
			}
		});
	}

	newGame();

	});

</script>
</body>
</html>
